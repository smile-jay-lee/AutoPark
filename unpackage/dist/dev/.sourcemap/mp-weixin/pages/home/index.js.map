{"version":3,"file":"index.js","sources":["pages/home/index.vue","../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <!-- ÂÖ¨ÂëäÊ†è - ‰ºòÂåñÊ†∑Âºè -->\r\n    <view class=\"announcement\" v-if=\"!loading\">\r\n      <u-icon name=\"volume\" size=\"32\" color=\"#FFB400\"></u-icon>\r\n      <view class=\"announcement-content\">\r\n        <text class=\"announcement-text\">Êî∂Ë¥πËØ¥ÊòéÔºöÊåâÁÖßËá™ÁÑ∂Êó•ËÆ°Ë¥πÔºåÊó•Ë¥πÁ§∫‰æã ¬•20/Êó•ÔºõÂÆöÈáëÔºàÈ¢ÑÁ∫¶ÔºâËßÑÂàôÔºö7 Â§©‰ª•ÂÜÖÂÆöÈáë ¬•5Ôºå7 Â§©Âèä‰ª•‰∏äÂÆöÈáë ¬•10„ÄÇÂá∫Âú∫Êâ´Á†ÅÊîØ‰ªòËá™Âä®Êä¨ÊùÜ„ÄÇ</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Âä†ËΩΩÈ™®Êû∂Â±è -->\r\n    <view v-if=\"loading\" class=\"skeleton-wrapper\">\r\n      <view class=\"skeleton-card\" v-for=\"i in 3\" :key=\"i\">\r\n        <u-skeleton rows=\"3\" :loading=\"true\" :animate=\"true\"></u-skeleton>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÂàóË°®ËßÜÂõæ -->\r\n    <scroll-view\r\n      v-else-if=\"viewMode === 'list'\"\r\n      class=\"lot-list\"\r\n      scroll-y\r\n      refresher-enabled\r\n      :refresher-triggered=\"refresherTriggered\"\r\n      @refresherpulling=\"handlePulling\"\r\n      @refresherrefresh=\"handleRefresh\"\r\n      @refresherrestore=\"handleRestore\"\r\n    >\r\n      <view v-if=\"filteredLots.length === 0\" class=\"empty-state\">\r\n        <u-empty mode=\"list\" text=\"ÊöÇÊó†Á¨¶ÂêàÊù°‰ª∂ÁöÑÂÅúËΩ¶Âú∫\"></u-empty>\r\n      </view>\r\n      <view\r\n        v-for=\"lot in filteredLots\"\r\n        :key=\"lot.id\"\r\n        class=\"lot-card animate-fade-in\"\r\n      >\r\n        <!-- Á¨¨1Ë°åÔºöÂÅúËΩ¶Âú∫ÂêçÁß∞(Â±Ö‰∏≠) -->\r\n        <view class=\"card-row card-title-row\">\r\n          <text class=\"lot-name\">{{ lot.name }}</text>\r\n        </view>\r\n        \r\n        <!-- Á¨¨1.5Ë°åÔºöË∑ùÁ¶ªÊ†áÁ≠æ(Â±Ö‰∏≠) -->\r\n        <view class=\"card-row distance-row\">\r\n          <view class=\"distance-badge\">\r\n            <text>{{ formatDistance(lot.distance) }}</text>\r\n          </view>\r\n        </view>\r\n\r\n        <!-- Á¨¨2Ë°åÔºöÂú∞ÂõæÁº©Áï•ÂõæÔºàÈïøÊñπÂΩ¢ÔºåÊòæÁ§∫ÂÆö‰ΩçÊï∞ÊçÆÔºâ -->\r\n        <view class=\"card-row map-thumbnail\" @click=\"goLotDetail(lot.id)\">\r\n          <map\r\n            class=\"mini-map\"\r\n            :latitude=\"lot.latitude\"\r\n            :longitude=\"lot.longitude\"\r\n            :markers=\"[{ id: lot.id, latitude: lot.latitude, longitude: lot.longitude, width: 26, height: 26 }]\"\r\n            :scale=\"14\"\r\n            :show-location=\"false\"\r\n          ></map>\r\n          <view class=\"map-overlay\">\r\n            <text class=\"coord-text\">üìç {{ lot.latitude.toFixed(4) }}, {{ lot.longitude.toFixed(4) }}</text>\r\n            <text class=\"address-text\">{{ lot.address }}</text>\r\n          </view>\r\n        </view>\r\n\r\n        <!-- Á¨¨3Ë°åÔºöËê•‰∏öÊó∂Èó¥(ÂûÇÁõ¥Â∏ÉÂ±Ä) -->\r\n        <view class=\"card-row business-hours-row\">\r\n          <view class=\"icon-row\">\r\n            <text class=\"icon\">üïê</text>\r\n            <text class=\"label\">Ëê•‰∏öÊó∂Èó¥</text>\r\n          </view>\r\n          <text class=\"hours-text\">{{ lot.businessHours }}</text>\r\n        </view>\r\n\r\n        <!-- Á¨¨4Ë°åÔºöÂâ©‰ΩôËΩ¶‰Ωç(ÂûÇÁõ¥Â±Ö‰∏≠Â∏ÉÂ±Ä) -->\r\n        <view class=\"card-row quota-row\">\r\n          <view class=\"icon-row\">\r\n            <text class=\"icon\">üÖøÔ∏è</text>\r\n            <text class=\"label\">Ââ©‰ΩôËΩ¶‰Ωç</text>\r\n          </view>\r\n          <view class=\"quota-badge\">\r\n            <text class=\"quota-num\">{{ lot.availableQuota }}‰∏™</text>\r\n          </view>\r\n        </view>\r\n\r\n        <!-- Á¨¨5Ë°åÔºöÈ¢ÑÁ∫¶ÂÆöÈáë(ÂûÇÁõ¥Â∏ÉÂ±Ä) -->\r\n        <view class=\"card-row deposit-row\">\r\n          <text class=\"deposit-label\">È¢ÑÁ∫¶ÂÆöÈáë</text>\r\n          <text class=\"deposit-value\">7Â§©ÂÜÖ¬•5 / 7Â§©‰ª•‰∏ä¬•10</text>\r\n        </view>\r\n\r\n        <!-- Á¨¨6Ë°åÔºöÈ¢ÑÁ∫¶ÊåâÈíÆ -->\r\n        <view class=\"card-row action-row\">\r\n          <u-button\r\n            type=\"primary\"\r\n            size=\"default\"\r\n            :custom-style=\"{ \r\n              width: '100%',\r\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', \r\n              border: 'none',\r\n              borderRadius: '50rpx',\r\n              height: '88rpx',\r\n              fontSize: '32rpx',\r\n              fontWeight: '600'\r\n            }\"\r\n            @click.stop=\"goReserve(lot.id)\"\r\n          >\r\n            Á´ãÂç≥È¢ÑÁ∫¶\r\n          </u-button>\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n    \r\n    <!-- Âú∞ÂõæËßÜÂõæ -->\r\n    <MapView\r\n      v-if=\"viewMode === 'map'\"\r\n      :latitude=\"latitude || 23.12911\"\r\n      :longitude=\"longitude || 113.264385\"\r\n      :filtered-lots=\"filteredLots\"\r\n    ></MapView>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { getParkingLots } from '@/pages/util/mockData'\r\nimport MapView from '@/pages/components/MapView.vue'\r\n\r\nexport default {\r\n  components: {\r\n    MapView\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      locationReady: false,\r\n      currentCity: 'ÂÆö‰Ωç‰∏≠',\r\n      latitude: 0,\r\n      longitude: 0,\r\n      lots: [],\r\n      refresherTriggered: false,\r\n      // Êñ∞Â¢ûÊï∞ÊçÆ\r\n      viewMode: 'list', // list, map\r\n      selectedLot: null\r\n    }\r\n  },\r\n  computed: {\r\n    displayLocation() {\r\n      return this.locationReady ? this.currentCity : 'ÂÆö‰Ωç‰∏≠...'\r\n    },\r\n    filteredLots() {\r\n      // Âè™ÊòæÁ§∫Ê∏©Â∑ûÊú∫Âú∫ÂÆèÈüµÂÅúËΩ¶Âú∫\r\n      return this.lots.filter(lot => lot.id === 'lot-wenzhou-airport')\r\n    },\r\n    totalAvailable() {\r\n      return this.filteredLots.reduce((sum, item) => sum + item.availableQuota, 0)\r\n    },\r\n    totalLots() {\r\n      return this.filteredLots.length\r\n    },\r\n    // Âú∞ÂõæÊ†áËÆ∞ÁÇπ\r\n    mapMarkers() {\r\n      return this.filteredLots.map(lot => {\r\n        return {\r\n          id: lot.id,\r\n          latitude: lot.latitude,\r\n          longitude: lot.longitude,\r\n          width: 30,\r\n          height: 30,\r\n          // iconPath: '/static/coolc/parking-marker.png',\r\n          callout: {\r\n            content: lot.name,\r\n            color: '#333',\r\n            fontSize: 12,\r\n            borderRadius: 4,\r\n            bgColor: '#fff',\r\n            padding: 5,\r\n            display: 'ALWAYS'\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.initialize()\r\n  },\r\n  onPullDownRefresh() {\r\n    this.refreshData()\r\n  },\r\n  methods: {\r\n    async initialize() {\r\n      this.loading = true\r\n      await this.acquireLocation()\r\n      this.loadParkingLots()\r\n      this.$nextTick(() => {\r\n        this.locationReady = true\r\n        setTimeout(() => {\r\n          this.loading = false\r\n        }, 500)\r\n      })\r\n    },\r\n    async acquireLocation() {\r\n      return new Promise((resolve) => {\r\n        uni.getLocation({\r\n          type: 'gcj02',\r\n          success: (res) => {\r\n            this.latitude = res.latitude\r\n            this.longitude = res.longitude\r\n            this.currentCity = this.mockDetectCity(res.latitude, res.longitude)\r\n            resolve()\r\n          },\r\n          fail: () => {\r\n            this.currentCity = '‰ΩçÁΩÆÊéàÊùÉÂ§±Ë¥•'\r\n            uni.showToast({\r\n              title: 'Êó†Ê≥ïËé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ',\r\n              icon: 'none'\r\n            })\r\n            resolve()\r\n          }\r\n        })\r\n      })\r\n    },\r\n    loadParkingLots() {\r\n      const lots = getParkingLots()\r\n      const withDistance = lots.map((item) => {\r\n        return {\r\n          ...item,\r\n          distance: this.calculateDistance(\r\n            this.latitude,\r\n            this.longitude,\r\n            item.latitude,\r\n            item.longitude\r\n          )\r\n        }\r\n      })\r\n      this.lots = withDistance\r\n    },\r\n    refreshLocation() {\r\n      this.acquireLocation().then(() => {\r\n        this.loadParkingLots()\r\n      })\r\n    },\r\n    refreshData() {\r\n      this.refresherTriggered = true\r\n      setTimeout(() => {\r\n        this.loadParkingLots()\r\n        this.refresherTriggered = false\r\n        uni.stopPullDownRefresh()\r\n      }, 800)\r\n    },\r\n    handlePulling() {},\r\n    handleRefresh() {\r\n      this.refreshData()\r\n    },\r\n    handleRestore() {\r\n      this.refresherTriggered = false\r\n    },\r\n    handleSearch(value) {\r\n      this.keyword = value\r\n    },\r\n    handleSearchClear() {\r\n      this.keyword = ''\r\n    },\r\n    toggleSort() {\r\n      // Âæ™ÁéØÂàáÊç¢ÊéíÂ∫èÁ±ªÂûãÔºöË∑ùÁ¶ª -> ‰ª∑Ê†º -> ÂèØÈ¢ÑÁ∫¶Êï∞Èáè\r\n      if (this.sortType === 'distance') {\r\n        this.sortType = 'price'\r\n      } else if (this.sortType === 'price') {\r\n        this.sortType = 'quota'\r\n      } else {\r\n        this.sortType = 'distance'\r\n      }\r\n    },\r\n    getSortText() {\r\n      if (this.sortType === 'distance') {\r\n        return `Ë∑ùÁ¶ª${this.sortAsc ? 'ÊúÄËøë' : 'ÊúÄËøú'}`\r\n      } else if (this.sortType === 'price') {\r\n        return `‰ª∑Ê†º${this.sortAsc ? 'ÊúÄ‰Ωé' : 'ÊúÄÈ´ò'}`\r\n      } else if (this.sortType === 'quota') {\r\n        return `ËΩ¶‰Ωç${this.sortAsc ? 'ÊúÄÂ∞ë' : 'ÊúÄÂ§ö'}`\r\n      }\r\n      return ''\r\n    },\r\n    applyFilters() {\r\n      this.showFilterPopup = false\r\n      // Â∫îÁî®Á≠õÈÄâÊù°‰ª∂ÂêéÔºåÈáçÁΩÆÊéíÂ∫è‰∏∫ÂçáÂ∫è\r\n      this.sortAsc = true\r\n    },\r\n    resetFilters() {\r\n      this.filter = {\r\n        businessHours: 'all',\r\n        priceRange: 'all',\r\n        reservationDays: 'all'\r\n      }\r\n      this.keyword = ''\r\n      this.sortType = 'distance'\r\n      this.sortAsc = true\r\n    },\r\n    formatDistance(distance) {\r\n      if (!distance || distance <= 0) {\r\n        return 'Êú™Áü•Ë∑ùÁ¶ª'\r\n      }\r\n      if (distance < 1) {\r\n        return `${Math.round(distance * 1000)} Á±≥`\r\n      }\r\n      return `${distance.toFixed(1)} ÂÖ¨Èáå`\r\n    },\r\n    goLotDetail(lotId) {\r\n      uni.navigateTo({\r\n        url: `/pages/parking/detail?id=${lotId}`\r\n      })\r\n    },\r\n    goReserve(lotId) {\r\n      uni.navigateTo({\r\n        url: `/pages/reserve/form?lotId=${lotId}`\r\n      })\r\n    },\r\n    chooseLocation() {\r\n      uni.showToast({\r\n        title: 'ÈÄâÊã©‰ΩçÁΩÆÂäüËÉΩÊöÇÊú™ÂºÄÊîæ',\r\n        icon: 'none'\r\n      })\r\n    },\r\n    mockDetectCity() {\r\n      return 'ÂπøÂ∑ûÂ∏Ç'\r\n    },\r\n    calculateDistance(lat1, lng1, lat2, lng2) {\r\n      if (!lat1 || !lng1 || !lat2 || !lng2) {\r\n        return 0\r\n      }\r\n      const radLat1 = (lat1 * Math.PI) / 180\r\n      const radLat2 = (lat2 * Math.PI) / 180\r\n      const a = radLat1 - radLat2\r\n      const b = ((lng1 - lng2) * Math.PI) / 180\r\n      const s =\r\n        2 *\r\n        Math.asin(\r\n          Math.sqrt(\r\n            Math.sin(a / 2) * Math.sin(a / 2) +\r\n              Math.cos(radLat1) *\r\n                Math.cos(radLat2) *\r\n                Math.sin(b / 2) *\r\n                Math.sin(b / 2)\r\n          )\r\n        )\r\n      return s * 6378.137\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page {\r\n  min-height: 100vh;\r\n  background: var(--bg-secondary);\r\n  padding-bottom: 40rpx;\r\n}\r\n\r\n.hero {\r\n  padding: 36rpx 30rpx 24rpx 30rpx;\r\n  background: linear-gradient(180deg, var(--primary-light) 0%, var(--bg-secondary) 100%);\r\n}\r\n\r\n/* Â∏ÉÂ±ÄÁªü‰∏ÄÔºöÂú®‰∏çÊîπÊ®°ÊùøÁªìÊûÑÁöÑÂâçÊèê‰∏ãÔºåÈôêÂà∂ÂÜÖÂÆπÊúÄÂ§ßÂÆΩÂ∫¶Âπ∂Â±Ö‰∏≠ */\r\n.page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.announcement {\r\n  max-width: 720rpx;\r\n  margin: 24rpx auto;\r\n}\r\n\r\n.skeleton-wrapper {\r\n  max-width: 720rpx;\r\n  margin: 0 auto;\r\n  padding: 24rpx;\r\n}\r\n\r\n.lot-list {\r\n  margin-top: var(--spacing-md);\r\n  height: calc(100vh - 360rpx);\r\n  padding: 0;\r\n  width: 100%;\r\n}\r\n\r\n.location-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.location-info {\r\n  flex: 1;\r\n  margin: 0 20rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.city {\r\n  font-size: var(--font-lg);\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.tip {\r\n  font-size: var(--font-sm);\r\n  color: var(--text-secondary);\r\n  margin-top: 4rpx;\r\n}\r\n\r\n.search-box {\r\n  margin-top: var(--spacing-md);\r\n}\r\n\r\n.summary-card {\r\n  margin-top: var(--spacing-md);\r\n  padding: var(--spacing-md) var(--spacing-xl);\r\n  background: var(--bg-primary);\r\n  border-radius: var(--radius-large);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: var(--shadow-primary);\r\n  transition: transform var(--duration-normal) var(--ease-out);\r\n  \r\n  &:active {\r\n    transform: scale(0.98);\r\n  }\r\n}\r\n\r\n.summary-item {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.value {\r\n  font-size: var(--font-xxxl);\r\n  font-weight: 600;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.label {\r\n  font-size: var(--font-sm);\r\n  color: var(--text-secondary);\r\n  margin-top: 6rpx;\r\n}\r\n\r\n.divider {\r\n  width: 2rpx;\r\n  height: 60rpx;\r\n  background: var(--border-color);\r\n}\r\n\r\n// ËßÜÂõæÂàáÊç¢Ê†∑Âºè\r\n.view-switch {\r\n  display: flex;\r\n  margin-top: var(--spacing-md);\r\n  background: var(--bg-quaternary);\r\n  border-radius: var(--radius-round);\r\n  padding: 6rpx;\r\n}\r\n\r\n.view-item {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: var(--spacing-sm) 0;\r\n  border-radius: var(--radius-round);\r\n  transition: all var(--duration-normal) var(--ease-out);\r\n\r\n  &.active {\r\n    background: var(--bg-primary);\r\n    box-shadow: var(--shadow-light);\r\n  }\r\n}\r\n\r\n.view-text {\r\n  font-size: var(--font-sm);\r\n  margin-left: var(--spacing-xs);\r\n  color: var(--text-secondary);\r\n\r\n  .active & {\r\n    color: var(--primary-color);\r\n  }\r\n}\r\n\r\n.section-title {\r\n  margin-top: var(--spacing-md);\r\n  padding: 0 var(--spacing-lg);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.title {\r\n  font-size: var(--font-lg);\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  gap: var(--spacing-md);\r\n}\r\n\r\n.filter {\r\n  display: flex;\r\n  align-items: center;\r\n  color: var(--primary-color);\r\n  transition: transform var(--duration-fast) var(--ease-out);\r\n  \r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n}\r\n\r\n.filter-text {\r\n  font-size: var(--font-sm);\r\n  margin-left: 6rpx;\r\n}\r\n\r\n.lot-list {\r\n  margin-top: var(--spacing-md);\r\n  height: calc(100vh - 360rpx);\r\n  padding: 0 var(--spacing-lg);\r\n}\r\n\r\n.lot-card {\r\n  margin-top: var(--spacing-md);\r\n  background: var(--bg-primary);\r\n  border-radius: var(--radius-large);\r\n  padding: var(--spacing-lg);\r\n  box-shadow: var(--shadow-light);\r\n  transition: all var(--duration-normal) var(--ease-out);\r\n  \r\n  &:hover {\r\n    transform: translateY(-4rpx);\r\n    box-shadow: var(--shadow-medium);\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.lot-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.lot-name {\r\n  font-size: var(--font-lg);\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.distance {\r\n  font-size: var(--font-sm);\r\n  color: var(--primary-color);\r\n}\r\n\r\n.lot-body {\r\n  display: flex;\r\n  margin-top: var(--spacing-md);\r\n}\r\n\r\n.quota {\r\n  width: 140rpx;\r\n  text-align: center;\r\n  border-right: 2rpx solid var(--border-light);\r\n}\r\n\r\n.quota-value {\r\n  font-size: var(--font-xxxl);\r\n  font-weight: 600;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.quota-label {\r\n  font-size: var(--font-xs);\r\n  color: var(--text-secondary);\r\n  margin-top: var(--spacing-xs);\r\n}\r\n\r\n.lot-meta {\r\n  flex: 1;\r\n  padding-left: var(--spacing-md);\r\n}\r\n\r\n.meta-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: var(--spacing-xs);\r\n}\r\n\r\n.meta-text {\r\n  font-size: var(--font-sm);\r\n  color: var(--text-regular);\r\n  margin-left: var(--spacing-xs);\r\n}\r\n\r\n.lot-footer {\r\n  margin-top: var(--spacing-md);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.price {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.price-highlight {\r\n  font-size: var(--font-xl);\r\n  color: var(--warning-color);\r\n  font-weight: 600;\r\n}\r\n\r\n.price-text {\r\n  font-size: var(--font-sm);\r\n  color: var(--text-secondary);\r\n  margin-left: var(--spacing-xs);\r\n}\r\n\r\n.empty-state {\r\n  padding: var(--spacing-xxl) 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.empty-image {\r\n  width: 240rpx;\r\n  height: 240rpx;\r\n}\r\n\r\n.empty-text {\r\n  margin-top: var(--spacing-md);\r\n  font-size: var(--font-md);\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.reset-btn {\r\n  margin-top: var(--spacing-lg);\r\n}\r\n\r\n// Âú∞ÂõæËßÜÂõæÊ†∑Âºè\r\n.map-container {\r\n  position: relative;\r\n  height: calc(100vh - 360rpx);\r\n}\r\n\r\n.map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.map-bottom-card {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: var(--bg-primary);\r\n  border-radius: var(--radius-large) var(--radius-large) 0 0;\r\n  padding: var(--spacing-lg);\r\n  box-shadow: var(--shadow-medium);\r\n}\r\n\r\n.map-card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.map-lot-name {\r\n  font-size: var(--font-lg);\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.map-close {\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  background: var(--bg-quaternary);\r\n}\r\n\r\n.map-card-body {\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.map-info-row {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.map-info-label {\r\n  font-size: var(--font-md);\r\n  color: var(--text-secondary);\r\n  width: 120rpx;\r\n}\r\n\r\n.map-info-value {\r\n  font-size: var(--font-md);\r\n  color: var(--text-primary);\r\n  flex: 1;\r\n}\r\n\r\n.map-card-footer {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.map-price {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.map-price-highlight {\r\n  font-size: var(--font-xl);\r\n  color: var(--warning-color);\r\n  font-weight: 600;\r\n}\r\n\r\n.map-price-text {\r\n  font-size: var(--font-sm);\r\n  color: var(--text-secondary);\r\n  margin-left: var(--spacing-xs);\r\n}\r\n\r\n// ÂÖ¨ÂëäÊ†èÊ†∑Âºè‰ºòÂåñ\r\n.announcement {\r\n  margin: 24rpx 32rpx;\r\n  border-radius: 16rpx;\r\n  background: linear-gradient(135deg, #FFF9E6 0%, #FFFBE6 100%);\r\n  padding: 24rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(255, 180, 0, 0.08);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n  animation: slideInDown 0.5s ease-out;\r\n}\r\n\r\n.announcement-content {\r\n  flex: 1;\r\n  overflow: visible; /* ÂÖÅËÆ∏ÂÜÖÂÆπÂÆåÂÖ®ÊòæÁ§∫ */\r\n}\r\n\r\n.announcement-text {\r\n  font-size: 26rpx;\r\n  color: #8B6914;\r\n  line-height: 1.6;\r\n  white-space: normal; /* ÂÖÅËÆ∏ÊñáÊú¨Êç¢Ë°å */\r\n  display: block; /* Á°Æ‰øùÊñáÊú¨ÂùóÊòæÁ§∫ */\r\n}\r\n\r\n// È™®Êû∂Â±èÊ†∑Âºè\r\n.skeleton-wrapper {\r\n  padding: 32rpx;\r\n}\r\n\r\n.skeleton-card {\r\n  margin-bottom: 32rpx;\r\n  background: white;\r\n  border-radius: 24rpx;\r\n  padding: 32rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(17, 32, 64, 0.04);\r\n}\r\n\r\n// ÈáçÊûÑÂêéÁöÑÂç°ÁâáÊ†∑Âºè\r\n.lot-card {\r\n  margin: 48rpx 48rpx;\r\n  width: calc(100% - 96rpx);\r\n  background: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  box-shadow: 0 4rpx 16rpx rgba(102,126,234,0.08);\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n  overflow: hidden;\r\n}\r\n\r\n.lot-card:active {\r\n  transform: translateY(-2rpx);\r\n  box-shadow: 0 8rpx 24rpx rgba(102,126,234,0.12);\r\n}\r\n\r\n// Âç°ÁâáË°åÈÄöÁî®Ê†∑Âºè\r\n.card-row {\r\n  margin-bottom: 16rpx;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n// Á¨¨1Ë°åÔºöÊ†áÈ¢òË°å(Â±Ö‰∏≠)\r\n.card-title-row {\r\n  text-align: center;\r\n  padding: 0 0 12rpx 0;\r\n}\r\n\r\n.lot-name {\r\n  font-size: 34rpx;\r\n  font-weight: 700;\r\n  color: #1a1a1a;\r\n}\r\n\r\n// Á¨¨1.5Ë°åÔºöË∑ùÁ¶ªÊ†áÁ≠æË°å(Â±Ö‰∏≠)\r\n.distance-row {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.distance-badge {\r\n  background: linear-gradient(135deg, #32caec 0%, #2db3d8 100%);\r\n  padding: 10rpx 24rpx;\r\n  border-radius: 30rpx;\r\n  font-size: 24rpx;\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n\r\n// Á¨¨2Ë°åÔºöÂú∞ÂõæÁº©Áï•Âõæ\r\n.map-thumbnail {\r\n  position: relative;\r\n  padding: 0;\r\n  margin: 0 -24rpx 16rpx -24rpx;\r\n  height: 180rpx;\r\n  background: #f5f7fa;\r\n}\r\n\r\n.mini-map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.map-overlay {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 60%, transparent 100%);\r\n  padding: 16rpx 20rpx 12rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6rpx;\r\n}\r\n\r\n.coord-text {\r\n  font-size: 20rpx;\r\n  color: rgba(255,255,255,0.95);\r\n  font-family: monospace;\r\n}\r\n\r\n.address-text {\r\n  font-size: 22rpx;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n\r\n// Á¨¨3Ë°åÔºöËê•‰∏öÊó∂Èó¥Ë°å\r\n.business-hours-row {\r\n  padding: 0;\r\n  text-align: center;\r\n}\r\n\r\n.icon-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8rpx;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.icon {\r\n  font-size: 32rpx;\r\n}\r\n\r\n.label {\r\n  font-size: 26rpx;\r\n  color: #7A8499;\r\n}\r\n\r\n.hours-text {\r\n  display: block;\r\n  font-size: 32rpx;\r\n  color: #5B8FF9;\r\n  font-weight: 600;\r\n}\r\n\r\n// Á¨¨4Ë°åÔºöÂâ©‰ΩôËΩ¶‰ΩçË°å\r\n.quota-row {\r\n  padding: 0;\r\n  text-align: center;\r\n}\r\n\r\n.quota-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 12rpx;\r\n  background: #F5F5F5;\r\n  color: #000;\r\n  min-width: 160rpx;\r\n  height: 72rpx;\r\n  padding: 0 24rpx;\r\n  border-radius: 12rpx;\r\n  border: 2rpx solid #E0E0E0;\r\n}\r\n\r\n.quota-num {\r\n  font-size: 40rpx;\r\n  font-weight: 700;\r\n  color: #000;\r\n}\r\n\r\n// Á¨¨5Ë°åÔºöÈ¢ÑÁ∫¶ÂÆöÈáëË°å\r\n.deposit-row {\r\n  padding: 0;\r\n  text-align: center;\r\n}\r\n\r\n.deposit-label {\r\n  display: block;\r\n  font-size: 26rpx;\r\n  color: #7A8499;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.deposit-value {\r\n  display: block;\r\n  font-size: 30rpx;\r\n  color: #5B8FF9;\r\n  font-weight: 600;\r\n}\r\n\r\n// Á¨¨6Ë°åÔºöÊåâÈíÆË°å\r\n.action-row {\r\n  padding: 0;\r\n  margin-top: 20rpx;\r\n}\r\n\r\n// Âä®ÁîªÊïàÊûú\r\n@keyframes slideInDown {\r\n  from {\r\n    transform: translateY(-20rpx);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes slideInUp {\r\n  from {\r\n    transform: translateY(20rpx);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes popIn {\r\n  from { transform: scale(0.88); opacity: 0; }\r\n  60% { transform: scale(1.06); opacity: 1; }\r\n  to { transform: scale(1); }\r\n}\r\n\r\n.quota-badge:active {\r\n  transform: scale(0.96);\r\n}\r\n\r\n.animate-fade-in {\r\n  animation: slideInUp 0.4s ease-out;\r\n}\r\n\r\n.lot-card:nth-child(1) { animation-delay: 0.05s; }\r\n.lot-card:nth-child(2) { animation-delay: 0.1s; }\r\n.lot-card:nth-child(3) { animation-delay: 0.15s; }\r\n.lot-card:nth-child(4) { animation-delay: 0.2s; }\r\n.lot-card:nth-child(5) { animation-delay: 0.25s; }\r\n\r\n// Á≠õÈÄâÂºπÁ™óÊ†∑Âºè\r\n.filter-popup {\r\n  padding: var(--spacing-xl) var(--spacing-lg);\r\n  background: var(--bg-primary);\r\n  border-radius: var(--radius-large) var(--radius-large) 0 0;\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: var(--spacing-lg);\r\n}\r\n\r\n.popup-title {\r\n  font-size: var(--font-xl);\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.filter-section {\r\n  margin-bottom: var(--spacing-lg);\r\n}\r\n\r\n.filter-section-title {\r\n  font-size: var(--font-md);\r\n  font-weight: 500;\r\n  color: var(--text-primary);\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.popup-footer {\r\n  padding-top: var(--spacing-md);\r\n}\r\n\r\n.confirm-btn {\r\n  width: 100%;\r\n}\r\n\r\n// Âä®ÁîªÊïàÊûú\r\n.lot-card {\r\n  animation: slideInUp var(--duration-normal) var(--ease-out);\r\n}\r\n\r\n.lot-card:nth-child(1) { animation-delay: 0.05s; }\r\n.lot-card:nth-child(2) { animation-delay: 0.1s; }\r\n.lot-card:nth-child(3) { animation-delay: 0.15s; }\r\n.lot-card:nth-child(4) { animation-delay: 0.2s; }\r\n.lot-card:nth-child(5) { animation-delay: 0.25s; }\r\n</style>\r\n","import MiniProgramPage from 'D:/project/park/AutoPark/pages/home/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getParkingLots"],"mappings":"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"}